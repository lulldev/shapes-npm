function CCircle(a,b){CShape.apply(this,arguments),void 0===b&&(b={radius:50,centerX:200,centerY:200}),this.validateParams(b),this.radius=b.radius,this.centerX=b.centerX,this.centerY=b.centerY}function CRectangle(a,b){CShape.apply(this,arguments),void 0===b&&(b={x1:10,y1:20,x2:40,y2:20}),this.validateParams(b),this.x1=b.x1,this.y1=b.y1,this.x2=b.x2,this.y2=b.y2}function CShape(a){void 0===a&&(a={fillColorValue:"#fff",borderColorValue:"#000"}),this.validateColorParams(a),this.setFillColor(a.fillColorValue),this.setBorderColor(a.borderColorValue)}function CTriangle(a,b){CShape.apply(this,arguments),void 0===b&&(b={x1:10,y1:20,x2:40,y2:20,x3:50,y3:60}),this.validateParams(b),this.x1=b.x1,this.y1=b.y1,this.x2=b.x2,this.y2=b.y2,this.x3=b.x3,this.y3=b.y3}function ShapeProgram(a){void 0===a?this.canvasAreaId="canvas-area":this.canvasAreaId=a}CCircle.prototype=Object.create(CShape.prototype),CCircle.prototype.constructor=CCircle,CCircle.prototype.validateParams=function(a){if(!a.hasOwnProperty("radius")||!a.hasOwnProperty("centerX")||!a.hasOwnProperty("centerY"))throw ReferenceError("Circle params required");if(a.radius<0||a.centerX<0||a.centerY<0)throw RangeError("Invalid circle params")},CCircle.prototype.calculateArea=function(){return parseFloat(Math.pow(Math.PI*this.radius,2).toFixed(2))},CCircle.prototype.calculatePerimeter=function(){return parseFloat((2*Math.PI*this.radius).toFixed(2))},CCircle.prototype.draw=function(a){this.canvasAreaId=a;var b=document.getElementById(this.canvasAreaId),c=b.getContext("2d");c.clearRect(0,0,b.width,b.height),c.beginPath(),c.arc(this.centerX,this.centerY,this.radius,0,2*Math.PI,!1),c.fillStyle=this.getFillColor(),c.fill(),c.lineWidth=.5,c.strokeStyle=this.getBorderColor(),c.stroke()},CRectangle.prototype=Object.create(CShape.prototype),CRectangle.prototype.constructor=CRectangle,CRectangle.prototype.validateParams=function(a){if(!(a.hasOwnProperty("x1")&&a.hasOwnProperty("y1")&&a.hasOwnProperty("x2")&&a.hasOwnProperty("y2")))throw ReferenceError("Rectangle params required");if(a.x1<0||a.y1<0||a.x2<0||a.y2<0)throw RangeError("Invalid rectangle params")},CRectangle.prototype.calculateSides=function(){return[Math.abs(this.x2-this.x1),Math.abs(this.y2-this.y1)]},CRectangle.prototype.calculateArea=function(){var a=this.calculateSides();return parseFloat((a[0]*a[1]).toFixed(2))},CRectangle.prototype.calculatePerimeter=function(){var a=this.calculateSides();return parseFloat((2*(a[0]+a[1])).toFixed(2))},CRectangle.prototype.draw=function(a){this.canvasAreaId=a;var b=document.getElementById(this.canvasAreaId),c=b.getContext("2d"),d=this.calculateSides(),e=d[0],f=d[1];c.clearRect(0,0,b.width,b.height),c.beginPath(),c.fillStyle=this.getFillColor(),c.lineWidth=.5,c.strokeStyle=this.getBorderColor(),c.fillRect(this.x1,this.y1,e,f),c.strokeRect(this.x1,this.y1,e,f)},CShape.prototype.validateColorParams=function(a){if(!a.hasOwnProperty("fillColorValue")||!a.hasOwnProperty("borderColorValue"))throw ReferenceError("Shape colors params required");if(!this.validateColor(a.fillColorValue)||!this.validateColor(a.borderColorValue))throw RangeError("Invalid shape colors")},CShape.prototype.validateColor=function(a){var b=new RegExp("^(#)((?:[A-Fa-f0-9]{3}){1,2})$");return b.test(a)},CShape.prototype.setFillColor=function(a){void 0!=a?this.fillColor=a:this.fillColor="#fff"},CShape.prototype.getFillColor=function(){return this.fillColor},CShape.prototype.setBorderColor=function(a){void 0!=a?this.borderColor=a:this.borderColor="#000"},CShape.prototype.getBorderColor=function(){return this.borderColor},CTriangle.prototype=Object.create(CShape.prototype),CTriangle.prototype.constructor=CTriangle,CTriangle.prototype.validateParams=function(a){if(!(a.hasOwnProperty("x1")&&a.hasOwnProperty("y1")&&a.hasOwnProperty("x2")&&a.hasOwnProperty("y2")&&a.hasOwnProperty("x3")&&a.hasOwnProperty("y3")))throw ReferenceError("Triangle params required");if(a.x1<0||a.y1<0||a.x2<0||a.y2<0||a.x3<0||a.y3<0)throw RangeError("Invalid triangle params")},CTriangle.prototype.calculateSides=function(){return[Math.sqrt(Math.sqrt(Math.abs(this.x1-this.x2))+Math.sqrt(Math.abs(this.y1-this.y2))),Math.sqrt(Math.sqrt(Math.abs(this.x2-this.x3))+Math.sqrt(Math.abs(this.y2-this.y3))),Math.sqrt(Math.sqrt(Math.abs(this.x3-this.x1))+Math.sqrt(Math.abs(this.y3-this.y1)))]},CTriangle.prototype.calculateArea=function(){var a=this.calculateSides(),b=a[0],c=a[1],d=a[2],e=this.calculatePerimeter();return parseFloat(Math.sqrt(e*(e-b)*(e-c)*(e-d)).toFixed(2))},CTriangle.prototype.calculatePerimeter=function(){var a=this.calculateSides(),b=a[0],c=a[1],d=a[2];return parseFloat((2*(b+c+d)).toFixed(2))},CTriangle.prototype.draw=function(a){this.canvasAreaId=a;var b=document.getElementById(this.canvasAreaId),c=b.getContext("2d");c.clearRect(0,0,b.width,b.height),c.beginPath(),c.moveTo(this.x1,this.y1),c.lineTo(this.x2,this.y2),c.lineTo(this.x3,this.y3),c.closePath(),c.lineWidth=1,c.strokeStyle=this.getBorderColor(),c.stroke(),c.fillStyle=this.getFillColor(),c.fill()},ShapeProgram.prototype.GetFormCollection=function(){return{colorForm:document.getElementsByClassName("color-form")[0],circleForm:document.getElementsByClassName("circle-form")[0],rectangleForm:document.getElementsByClassName("rectangle-form")[0],triangleForm:document.getElementsByClassName("triangle-form")[0],actionControl:document.getElementsByClassName("action-control-btns")[0]}},ShapeProgram.prototype.ResetForm=function(){var a=this.GetFormCollection();for(var b in a)a[b].style.display="none"},ShapeProgram.prototype.UpdateAreaAndPerimeter=function(a,b){document.getElementsByClassName("shape-area")[0].innerHTML=a,document.getElementsByClassName("shape-perimeter")[0].innerHTML=b},ShapeProgram.prototype.DisplayShape=function(a,b,c){var d;try{d=new a(b,c)}catch(a){return void alert(a.message)}d.draw(this.canvasAreaId),this.UpdateAreaAndPerimeter(d.calculateArea(),d.calculatePerimeter())};var shapeProgram=new ShapeProgram;window.onload=function(){document.getElementsByClassName("shape-type")[0].addEventListener("change",function(){var a=shapeProgram.GetFormCollection(),b=this.value.toString();switch(b){case"circle":shapeProgram.ResetForm(),a.circleForm.style.display="block";break;case"rectangle":shapeProgram.ResetForm(),a.rectangleForm.style.display="block";break;case"triangle":shapeProgram.ResetForm(),a.triangleForm.style.display="block"}a.colorForm.style.display="block",a.actionControl.style.display="block"}),document.getElementsByClassName("reset-configurator")[0].addEventListener("click",function(){shapeProgram.ResetForm()}),document.getElementsByClassName("draw-shape")[0].addEventListener("click",function(){var a=document.getElementsByClassName("shape-type")[0].value.toString(),b={fillColorValue:document.getElementsByClassName("fill-color")[0].value.toString(),borderColorValue:document.getElementsByClassName("border-color")[0].value.toString()},c={};switch(a){case"circle":c={radius:parseFloat(document.getElementsByClassName("radius")[0].value.toString()),centerX:parseFloat(document.getElementsByClassName("circle-x-coord")[0].value.toString()),centerY:parseFloat(document.getElementsByClassName("circle-y-coord")[0].value.toString())},shapeProgram.DisplayShape(CCircle,b,c);break;case"rectangle":c={x1:parseFloat(document.getElementsByClassName("rectangle-x1-coord")[0].value.toString()),y1:parseFloat(document.getElementsByClassName("rectangle-y1-coord")[0].value.toString()),x2:parseFloat(document.getElementsByClassName("rectangle-x2-coord")[0].value.toString()),y2:parseFloat(document.getElementsByClassName("rectangle-y2-coord")[0].value.toString())},shapeProgram.DisplayShape(CRectangle,b,c);break;case"triangle":c={x1:parseFloat(document.getElementsByClassName("triangle-x1-coord")[0].value.toString()),y1:parseFloat(document.getElementsByClassName("triangle-y1-coord")[0].value.toString()),x2:parseFloat(document.getElementsByClassName("triangle-x2-coord")[0].value.toString()),y2:parseFloat(document.getElementsByClassName("triangle-y2-coord")[0].value.toString()),x3:parseFloat(document.getElementsByClassName("triangle-x3-coord")[0].value.toString()),y3:parseFloat(document.getElementsByClassName("triangle-y3-coord")[0].value.toString())},shapeProgram.DisplayShape(CTriangle,b,c)}})};